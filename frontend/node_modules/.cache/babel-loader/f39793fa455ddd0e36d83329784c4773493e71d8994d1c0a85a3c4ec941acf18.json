{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{connect}from'react-redux';import{useNavigate}from'react-router-dom';// Import useNavigate hook\nimport'./css/create_project.css';// Make sure to include the CSS file for styling\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Project=_ref=>{let{isAuthenticated,user}=_ref;const[showForm,setShowForm]=useState(false);// State variable to control form visibility\nconst[projectName,setProjectName]=useState('');const navigate=useNavigate();// Get the navigate function\nconst handleSubmit=async e=>{e.preventDefault();try{const response=await axios.post('http://localhost:8000/djapp/create/',{projectname:projectName,teamlead:user.email});console.log('Project created:',response.data);setProjectName('');setShowForm(false);// Hide the form after successful submission\n// Navigate to another page after successful submission using useNavigate\nnavigate(\"/project/\".concat(response.data.projectid));}catch(error){console.error('Error creating project:',error);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create Project\"}),!showForm&&/*#__PURE__*/_jsx(\"button\",{className:\"create-project-button\",onClick:()=>setShowForm(true),children:\"Create Project\"}),showForm&&/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"close\",onClick:()=>setShowForm(false),children:\"\\xD7\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"project-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"projectName\",children:\"Project Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"projectName\",value:projectName,onChange:e=>setProjectName(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create Project\"})]})]})})]});};const mapStateToProps=state=>({isAuthenticated:state.auth.isAuthenticated,user:state.auth.user});export default connect(mapStateToProps)(Project);","map":{"version":3,"names":["React","useState","axios","connect","useNavigate","jsx","_jsx","jsxs","_jsxs","Project","_ref","isAuthenticated","user","showForm","setShowForm","projectName","setProjectName","navigate","handleSubmit","e","preventDefault","response","post","projectname","teamlead","email","console","log","data","concat","projectid","error","children","className","onClick","onSubmit","htmlFor","type","id","value","onChange","target","required","mapStateToProps","state","auth"],"sources":["C:/Users/Kavyasri/OneDrive/Documents/new slaty/frontend/src/containers/Project.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom'; // Import useNavigate hook\r\nimport './css/create_project.css'; // Make sure to include the CSS file for styling\r\n\r\nconst Project = ({ isAuthenticated, user }) => {\r\n    const [showForm, setShowForm] = useState(false); // State variable to control form visibility\r\n    const [projectName, setProjectName] = useState('');\r\n    const navigate = useNavigate(); // Get the navigate function\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const response = await axios.post('http://localhost:8000/djapp/create/', {\r\n                projectname: projectName,\r\n                teamlead: user.email\r\n            });\r\n            console.log('Project created:', response.data);\r\n            setProjectName('');\r\n            setShowForm(false); // Hide the form after successful submission\r\n            // Navigate to another page after successful submission using useNavigate\r\n            navigate(`/project/${response.data.projectid}`); \r\n        } catch (error) {\r\n            console.error('Error creating project:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h1>Create Project</h1>\r\n            {!showForm && (\r\n                <button className=\"create-project-button\" onClick={() => setShowForm(true)}>Create Project</button>\r\n            )}\r\n            {showForm && (\r\n                <div className=\"modal\">\r\n                    <div className=\"modal-content\">\r\n                        <span className=\"close\" onClick={() => setShowForm(false)}>&times;</span>\r\n                        <form onSubmit={handleSubmit} className=\"project-form\">\r\n                            <label htmlFor=\"projectName\">Project Name:</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"projectName\"\r\n                                value={projectName}\r\n                                onChange={(e) => setProjectName(e.target.value)}\r\n                                required\r\n                            />\r\n                            <button type=\"submit\">Create Project</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuthenticated: state.auth.isAuthenticated,\r\n    user: state.auth.user\r\n});\r\n\r\nexport default connect(mapStateToProps)(Project);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}