{"ast":null,"code":"import React,{useState}from'react';import{Link,Navigate}from'react-router-dom';import{connect}from'react-redux';import{signup}from'../actions/auth';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Signup=_ref=>{let{signup,isAuthenticated}=_ref;const[accountCreated,setAccountCreated]=useState(false);const[formData,setFormData]=useState({name:'',email:'',password:'',re_password:''});const{name,email,password,re_password}=formData;const onChange=e=>setFormData({...formData,[e.target.name]:e.target.value});const onSubmit=e=>{e.preventDefault();if(password===re_password){signup(name,email,password,re_password);setAccountCreated(true);}};const continueWithGoogle=async()=>{try{const res=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/auth/o/google-oauth2/?redirect_uri=http://localhost:8000\"));window.location.replace(res.data.authorization_url);}catch(err){}};if(isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});}if(accountCreated){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Create your Account\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:e=>onSubmit(e),children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",placeholder:\"Name*\",name:\"name\",value:name,onChange:e=>onChange(e),required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"email\",placeholder:\"Email*\",name:\"email\",value:email,onChange:e=>onChange(e),required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"password\",placeholder:\"Password*\",name:\"password\",value:password,onChange:e=>onChange(e),minLength:\"6\",required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"password\",placeholder:\"Confirm Password*\",name:\"re_password\",value:re_password,onChange:e=>onChange(e),minLength:\"6\",required:true})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"submit\",children:\"Register\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mt-3\",onClick:continueWithGoogle,children:\"Continue With Google\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-3\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Sign In\"})]})]});};const mapStateToProps=state=>({isAuthenticated:state.auth.isAuthenticated});export default connect(mapStateToProps,{signup})(Signup);","map":{"version":3,"names":["React","useState","Link","Navigate","connect","signup","axios","jsx","_jsx","jsxs","_jsxs","Signup","_ref","isAuthenticated","accountCreated","setAccountCreated","formData","setFormData","name","email","password","re_password","onChange","e","target","value","onSubmit","preventDefault","continueWithGoogle","res","get","concat","process","env","REACT_APP_API_URL","window","location","replace","data","authorization_url","err","to","className","children","type","placeholder","required","minLength","onClick","mapStateToProps","state","auth"],"sources":["C:/Users/Kavyasri/OneDrive/Documents/new slaty/frontend/src/containers/Signup.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link, Navigate } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { signup } from '../actions/auth';\r\nimport axios from 'axios';\r\n\r\nconst Signup = ({ signup, isAuthenticated }) => {\r\n    const [accountCreated, setAccountCreated] = useState(false);\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        re_password: ''\r\n    });\r\n\r\n    const { name, email, password, re_password } = formData;\r\n\r\n    const onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        if (password === re_password) {\r\n            signup(name, email, password, re_password);\r\n            setAccountCreated(true);\r\n        }\r\n    };\r\n\r\n    const continueWithGoogle = async () => {\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/auth/o/google-oauth2/?redirect_uri=http://localhost:8000`)\r\n\r\n            window.location.replace(res.data.authorization_url);\r\n        } catch (err) {\r\n\r\n        }\r\n    };\r\n\r\n    \r\n\r\n    if (isAuthenticated) {\r\n        return <Navigate to='/' />\r\n    }\r\n    if (accountCreated) {\r\n        return <Navigate to='/login' />\r\n    }\r\n\r\n    return (\r\n        <div className='container mt-5'>\r\n            <h1>Sign Up</h1>\r\n            <p>Create your Account</p>\r\n            <form onSubmit={e => onSubmit(e)}>\r\n                <div className='form-group'>\r\n                    <input\r\n                        className='form-control'\r\n                        type='text'\r\n                        placeholder='Name*'\r\n                        name='name'\r\n                        value={name}\r\n                        onChange={e => onChange(e)}\r\n                        required\r\n                    />\r\n                </div>\r\n               \r\n             \r\n                <div className='form-group'>\r\n                    <input\r\n                        className='form-control'\r\n                        type='email'\r\n                        placeholder='Email*'\r\n                        name='email'\r\n                        value={email}\r\n                        onChange={e => onChange(e)}\r\n                        required\r\n                    />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <input\r\n                        className='form-control'\r\n                        type='password'\r\n                        placeholder='Password*'\r\n                        name='password'\r\n                        value={password}\r\n                        onChange={e => onChange(e)}\r\n                        minLength='6'\r\n                        required\r\n                    />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <input\r\n                        className='form-control'\r\n                        type='password'\r\n                        placeholder='Confirm Password*'\r\n                        name='re_password'\r\n                        value={re_password}\r\n                        onChange={e => onChange(e)}\r\n                        minLength='6'\r\n                        required\r\n                    />\r\n                </div>\r\n                <button className='btn btn-primary' type='submit'>Register</button>\r\n            </form>\r\n             <button className='btn btn-danger mt-3' onClick={continueWithGoogle}>\r\n                Continue With Google\r\n            </button>\r\n            \r\n            <p className='mt-3'>\r\n                Already have an account? <Link to='/login'>Sign In</Link>\r\n            </p>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuthenticated: state.auth.isAuthenticated\r\n});\r\n\r\nexport default connect(mapStateToProps, { signup })(Signup);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}